/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  v2412                                 |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
// WRITTEN BY CHRIS DILLOW | NOVEMBER 29, 2025 | TROPOCHIEF RC PLANE PROJECT
// FIELD: Control Dictionary
FoamFile
{
    version 2.0;
    format ascii;
    class dictionary;
    location "system";
    object controlDict;
}

application simpleFoam;

startFrom startTime;
startTime 0;

stopAt endTime;
endTime 2000;

deltaT 1;

writeControl timeStep;
writeInterval 200;

purgeWrite 0;

writeFormat ascii;
writePrecision 7;
writeCompression off;

timeFormat general;
timePrecision 6;

runTimeModifiable yes;

libs
(
    "libforces.so"
    "libsampling.so"
);

// Function Objects
functions
{
    force_coefficient
    {
        type forceCoeffs;
        libs ("libforces.so");

        patches (airfoil); // Must match your airfoil patch name

        rho     rhoInf;
        rhoInf  1.225; // kg/m^3

        liftDir   (0 1 0);   // lift in +y
        dragDir   (1 0 0);   // drag in +x
        pitchAxis (0 0 1);   // spanwise
        magUInf   30;        // m/s
        lRef      1;
        Aref      1;
        CofR      (0 0 0);

        writeControl timeStep;
        writeInterval 1;
    }

    cpLine
    {
        type sets;
        libs ("libsampling.so");

        interpolationScheme cellPoint;
        setFormat raw;

        fields (p);

        sets
        (
            chordCenter
            {
                type uniform;
                axis x;

                start (-0.0984401903 0 0.005);
                end   (0.2953205708 0 0.005);
                nPoints 201;
            }
        );
    }
}